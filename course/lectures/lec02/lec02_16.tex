%!TEX root = lec02.tex
% ================================================================================
% Slide
% ================================================================================
\begin{frame}[t,fragile]

\mytitle{Querying Tasks â€” Inspecting Server State}

\begin{columns}[T,totalwidth=\textwidth]

% --- Left column ---------------------------------------------------------------
\begin{column}[T]{0.42\textwidth}

\vspace{-1mm}
\textbf{Goal}

\begin{itemize}
  \item Inspect existing tasks
  \item Read \y{state} and \y{metadata}
  \item No client-side state
\end{itemize}

\vspace{1mm}
\textbf{REST Principle}

\begin{itemize}
  \item Tasks are \y{resources}
  \item Identified by URL
  \item Read via \texttt{GET}
\end{itemize}

\vspace{1mm}
\textbf{Endpoints}

\begin{itemize}
  \item \texttt{GET /tasks}
  \item \texttt{GET /tasks/<id>}
\end{itemize}

\end{column}

% --- Right column --------------------------------------------------------------
\begin{column}[T]{0.56\textwidth}

\vspace{-2mm}
\begin{codeonly}{List all Tasks}
import requests
r = requests.get("http://127.0.0.1:5000/tasks")
print(r.status_code)
print(r.json())
\end{codeonly}

\vspace{1mm}
\begin{codeonly}{Describe one task}
import sys, requests
tid = int(sys.argv[1])
r = requests.get(f"http://127.0.0.1:5000/tasks/{tid}")
print(r.status_code)
print(r.json())
\end{codeonly}

\end{column}

% --- End Columns --------------------------------------------------------------
\end{columns}
\end{frame}
