%!TEX root = lec13.tex
% ================================================================================
% Lecture 13 â€” Slide 14
% ================================================================================
\begin{frame}[t,fragile]

\mytitle{Dockerfile, Image Build, and Execution}

\begin{columns}[T,totalwidth=\textwidth]

% ------------------------------------------------------------
\begin{column}[T]{0.46\textwidth}
\footnotesize

\textbf{Step 3: Define the container}

{\tiny
\begin{lstlisting}
FROM python:3.11-slim
WORKDIR /app
COPY 02_code_to_execute_in_docker.py /app/
CMD ["python", "02_code_to_execute_in_docker.py"]
\end{lstlisting}
}

\vspace{1mm}
\footnotesize
Docker \y{freezes the runtime environment}:
\begin{itemize}
  \item operating system (Debian slim)
  \item Python version (\texttt{3.11.x})
  \item system libraries and \texttt{pip}
\end{itemize}

\vspace{1mm}
\rtext{\bf A Docker image already acts as a virtual environment.}

No \texttt{venv} activation is required;  
packages installed in the image are isolated by default.

\end{column}

% ------------------------------------------------------------
\begin{column}[T]{0.48\textwidth}
\footnotesize

\vspace{-7mm}
\textbf{Step 4: Build and run}

\begin{codeonly}{Build image}
docker build -t \
  python-hello-docker \
  -f 02_dockerfile.txt .
\end{codeonly}

\vspace{6mm}
\begin{codeonly}{Run container}
docker run --rm \
  -v "$(pwd):/app" \
  python-hello-docker
\end{codeonly}

\vspace{1mm}
\y{Volume mount} exposes results.  
\rtext{Without \texttt{-v}, files disappear.}

\end{column}

\end{columns}

\end{frame}
