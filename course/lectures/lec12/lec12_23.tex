%!TEX root = lec12.tex
% ================================================================================
% Slide 23
% ================================================================================
\begin{frame}[t,fragile]
\mytitle{Model Lineage and Training Continuation}

\begin{columns}[T,totalwidth=\textwidth]

% ------------------------------------------------------------
\begin{column}[T]{0.48\textwidth}
\footnotesize
\textbf{What MLFlow tracks automatically}

\begin{itemize}
  \item Each run has a unique identifier
  \item Each model version points to exactly one run
  \item Parameters, metrics, artifacts are immutable
\end{itemize}

\vspace{2mm}
\textbf{What MLFlow does not infer}

\begin{itemize}
  \item No automatic parent-child model tree
  \item No implicit notion of fine-tuning or continuation
\end{itemize}
\end{column}

% ------------------------------------------------------------
\begin{column}[T]{0.52\textwidth}
\footnotesize
\textbf{How lineage is expressed explicitly}

\begin{itemize}
  \item \rtext{\bf Log the parent run ID as a parameter or tag}
  \item Log the source model URI when continuing training
  \item Use naming and tagging conventions
\end{itemize}

\vspace{2mm}
\textbf{Example intent}

\begin{itemize}
  \item ``run B continues training from run A''
  \item ``model v3 fine-tuned from model v1''
\end{itemize}

\vspace{2mm}
\y{Lineage is recorded by metadata, not guessed.}

\hspace{-5cm}
\begin{minipage}{8cm}
\tiny\color{red}
\begin{lstlisting}
import mlflow
with mlflow.start_run():
    mlflow.set_tag("parent_run_id", "50848f8f09f1471bb4070ea8de9076e3")
    mlflow.set_tag("source_model", "runs:/50848f8f09f1471bb4070ea8de9076e3/model")
    mlflow.set_tag("training_type", "fine_tuning")
\end{lstlisting}
\end{minipage}

\end{column}

\end{columns}
\end{frame}
